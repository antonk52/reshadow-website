---
name: reshadow
route: /
---

import styled from 'reshadow'

import Editor from '@/components/LiveCode'

# reshadow ⛱️

Write semantic styles and components, as the soul wants.

[![Travis branch](https://img.shields.io/travis/cssinjs/styled-jss/master.svg?style=flat-square)](https://travis-ci.org/cssinjs/styled-jss)
[![Coverage Status branch](https://img.shields.io/coveralls/cssinjs/styled-jss/master.svg?style=flat-square)](https://img.shields.io/coveralls/cssinjs/styled-jss/master.svg?branch=master)
[![npm version](https://img.shields.io/npm/v/styled-jss.svg?style=flat-square)](https://www.npmjs.com/package/styled-jss)
[![Babel Macro](https://img.shields.io/badge/babel--macro-%F0%9F%8E%A3-f5da55.svg?style=flat-square)](https://github.com/kentcdodds/babel-plugin-macros)

> This project has `beta` status, so the API and the implementation could be changed.

```sh
npm install --save reshadow
```

**reshadow** provides the Shadow DOM developer experience, but for the Virtual DOM with the Component way.

## Features
- Get away from additional abstractions
    * Write isolated semantic styles for the Virtual DOM in a native like way
    * Match styles on the elements, components, and props. That's all you need
- Compile-time styles processing and efficient runtime
- Static styles extracting options
- Static analysis
- Combine the css-in-js and css-modules approaches or choose which fits you better
- All the benefits of the PostCSS ecosystem
- Interoperable. Use it with `React`, `Preact` or `Vue`

Check examples on the [Сodesandbox](https://codesandbox.io):
- [react (create react app)](https://codesandbox.io/s/o9w535k0z6)
- [preact](https://codesandbox.io/s/o5jrpk0zm5)

## Special Thanks

- Pavel Masalsky [@pavelrevers](https://github.com/pavelrevers)
- Anton Kastritskiy [@antonk52](https://github.com/antonk52)

## Basics

With `reshadow/babel` plugin ([read more](/setup/#babel)):
```js
import styled from 'reshadow'
```

With `babel-plugin-macros` ([read more](/setup/#macro)):
```js
import styled from 'reshadow/macro'
```

- [css-in-js](##css-in-js)
- [css-modules](##css-modules)

### css-in-js

Let's start with a `Button` Component.

<Editor filename={__filename}>{{
    code: [
        `import {readableColor, rgba} from 'polished'`,
        `
            const Button = ({bgcolor, children, ...props}) => styled\`
                button {
                    cursor: pointer;
                    padding: 5px 10px;
                    border-radius: 5px;
                    border: 2px solid \${bgcolor};
                    background-color: \${rgba(bgcolor, 0.7)};
                    color: \${readableColor(bgcolor)};
                    transition: background-color .5s;\n
                    &:hover {
                        background-color: \${rgba(bgcolor, 0.9)};
                    }
                }
            \`(
                <button {...props}>
                    {children}
                </button>,
            );
        `,
        `
            <Button bgcolor="rebeccapurple">
                rebeccapurple
            </Button>
        `,
    ]
}}
</Editor>

For the `Button` we might also want to add some styles for the `disabled` state. For that we can just match selector on the `disabled` **prop** (it's not the DOM attribute actually):

<Editor filename={__filename}>{{
    parts: {0: {hidden: true}},
    code: [
        `import {readableColor, rgba} from 'polished'`,
        `
            const Button = ({bgcolor, children, ...props}) => styled\`

                button {
                    cursor: pointer;
                    padding: 5px 10px;
                    border-radius: 5px;
                    border: 2px solid \${bgcolor};
                    background-color: \${rgba(bgcolor, 0.7)};
                    color: \${readableColor(bgcolor)};
                    transition: background-color .5s;\n
                    &:hover:not([disabled]) {
                        background-color: \${rgba(bgcolor, 0.9)};
                    }
                }
                button[disabled] {
                    cursor: not-allowed;
                    opacity: .4;

                    & content {
                        pointer-events: none;
                    }
                }
            \`(
                <button {...props}>
                    <content>{children}</content>
                </button>,
            );
        `,
        `
            <Button disabled bgcolor="rebeccapurple">
                rebeccapurple
            </Button>
        `,
    ]
}}
</Editor>

We can also add some `sizes` to the `Button`. `reshadow` allows to use namespaces for the custom elements' `modifiers`, that should not pass to the `DOM`. For example, you can add `use:size` attribute and match on the `[use|size]` or `[|size]` selector in styles.

<Editor filename={__filename}>{{
    parts: {0: {hidden: true}},
    code: [
        `import {readableColor, rgba} from 'polished'`,
        `
            const Button = ({

                bgcolor,
                size = 'm',
                children,
                ...props
            }) => styled\`
                button {
                    cursor: pointer;
                    border-radius: 5px;
                    border: 2px solid \${bgcolor};
                    background-color: \${rgba(bgcolor, 0.7)};
                    color: \${readableColor(bgcolor)};
                    transition: background-color .5s;\n
                    &:hover:not([disabled]) {
                        background-color: \${rgba(bgcolor, 0.9)};
                    }
                }
                button[disabled] {
                    cursor: not-allowed;
                    opacity: .4;

                    & content {
                        pointer-events: none;
                    }
                }
                button[use|size="s"] {
                    padding: 4px 8px;
                    font-size: 12px;
                }
                /* you can also omit the 'use' namespace */
                button[|size="m"] {
                    padding: 5px 10px;
                    font-size: 14px;
                }
            \`(
                <button use:size={size} {...props}>
                    <content>{children}</content>
                </button>,
            );
        `,
        `
            <Button disabled size="m" bgcolor="rebeccapurple">
                rebeccapurple
            </Button>
        `,
    ]
}}
</Editor>

And it is also possible to match styles on the Components.

<Editor filename={__filename}>{{
    parts: {0: {hidden: true}, 1: {hidden: true}},
    code: [
        `import {readableColor, rgba} from 'polished'`,
        `
            const Button = ({

                bgcolor,
                size = 'm',
                children,
                ...props
            }) => styled\`
                button {
                    cursor: pointer;
                    border-radius: 5px;
                    border: 2px solid \${bgcolor};
                    background-color: \${rgba(bgcolor, 0.7)};
                    color: \${readableColor(bgcolor)};
                    transition: background-color .5s;\n
                    &:hover:not([disabled]) {
                        background-color: \${rgba(bgcolor, 0.9)};
                    }
                }
                button[disabled] {
                    cursor: not-allowed;
                    opacity: .4;

                    & content {
                        pointer-events: none;
                    }
                }
                button[use|size="s"] {
                    padding: 4px 8px;
                    font-size: 12px;
                }
                /* you can also omit the 'use' namespace */
                button[|size="m"] {
                    padding: 5px 10px;
                    font-size: 14px;
                }
            \`(
                <button use:size={size} {...props}>
                    <content>{children}</content>
                </button>,
            );
        `,
        `
            styled\`
                Button + Button {
                    margin-left: 10px;
                }
            \`(
                <section>
                    <Button bgcolor="lightgray">
                        lightgray
                    </Button>
                    <Button bgcolor="rebeccapurple">
                        rebeccapurple
                    </Button>
                </section>
            )
        `,
    ]
}}
</Editor>
